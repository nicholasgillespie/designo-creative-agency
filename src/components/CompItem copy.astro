---
// Imports
import { CONFIG_BASE } from "../consts";

// Comp Props
const { item, metaTitle } = Astro.props;

// Dynamic Data & Logic
function slugify(title) {
  return title.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '');
}
---

<li class="item">
  <a href="" class="l-switcher">
    <div class="item__image | l-frame">
      <img src={`${CONFIG_BASE}/images/${slugify(metaTitle)}/desktop/image-${slugify(item.data.title)}.jpg`} alt="" />
    </div>
    <div class="item__content | l-box l-flow">
      <h3>{item.data.title}</h3>
      <p>{item.data.description}</p>
    </div>
  </a>
</li>

<style lang="scss">
	@use "../styles/10-functions/theme-accessor" as *;
	@use "../styles/20-mixins/media-query" as *;

	.item {
		--frame-width: 700;
		--frame-height: 640;
		--space-switcher: 0;
		--box-border: 0;
    --switcher-item-target-width: 99rem;
		// display: flex;
	}
	
	.item a {
    --switcher-vertical-alignment: stretch;
    --switcher-content-alignment: stretch;
		text-decoration: none;
		border-radius: var(--radius-l);
		border: 1px solid transparent;
		overflow: hidden;
    block-size: 100%;
	}

	.item__content {
		background-color: #fdf3f0;
		// min-block-size: 100%;
		text-align: center;
		color: get(color, black);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;

	}
	
	.item__content h3 {
		color: get(color, peach);
		text-transform: uppercase;
	}
	
	.item__content p {
    max-inline-size: 25ch;
    margin-inline: auto;
	}

	.item:hover .item__content {
		background-color: get(color, peach);
		color: get(color, white);
	}

	.item:hover .item__content h3 {
			color: get(color, white);
	}

	@include media-query(from, tablet) {
    .item {
      --switcher-item-target-width: 0.01rem;
    }
	}

	@include media-query(from, desktop) {
    .item {
      --switcher-item-target-width: 99rem;
    }
	}
</style>