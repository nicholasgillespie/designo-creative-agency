---
// Imports
import { CONFIG_BASE } from "../consts";

// Comp Props
const { item, metaTitle } = Astro.props;

// Dynamic Data & Logic
function slugify(title) {
  return title.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '');
}
---

<li class="item">
  <a href="" class="item__inner | l-switcher">
    <img class="item__image | l-frame" src="" alt="text">
    <div class="item__content | l-box l-flow l-cente" data-center="child-elements">
      <h3>{item.data.title}</h3>
      <p>{item.data.description}</p>
    </div>
  </a>

  <!-- <a href="" class="l-switcher">
    <div class="item__image | l-frame">
      <img src={`${CONFIG_BASE}/images/${slugify(metaTitle)}/desktop/image-${slugify(item.data.title)}.jpg`} alt="" />
    </div>
    <div class="item__content | l-box l-flow">
      <h3>{item.data.title}</h3>
      <p>{item.data.description}</p>
    </div>
  </a> -->
</li>

<style lang="scss">
	@use "../styles/10-functions/theme-accessor" as *;
	@use "../styles/20-mixins/media-query" as *;

  .item {
    --frame-width: 700;
		--frame-height: 640;
    --switcher-item-target-width: 99rem;
    --switcher-vertical-alignment: stretch;
    --space-switcher: 0;
    display: flex;
  }
 
  .item__inner {
    inline-size: 100%;
    border-radius: var(--radius-l);
  }
  
  .item__image {
    border-radius: var(--radius-l) var(--radius-l) 0 0;
  }
  
  .item__content {
    --box-radius: 0 0 var(--radius-l) var(--radius-l); 
    background-color: get(color, light-peach);
    justify-content: center;
    flex-grow: 1;
    // display: flex;
    // flex-direction: column;
  }

  // .item__content h3 {
  //   margin-block-start: auto;
  // }
  
  // .item__content p {
  //   margin-block-end: auto;
  // }


	@include media-query(from, tablet) {
    .item {
      // --switcher-item-target-width: 0.01rem;
    }
    .item {
      background-color: blue;
      --switcher-item-target-width: 0.01rem;
    }
	}
  
	@include media-query(from, desktop) {
    .item {
      // background-color: blue;
      background-color: red;
      // --switcher-item-target-width: 99rem;
    }
    .item__inner {
      // display: flex;
      // flex-direction: column;
      
    }

    .item__content {
      // flex-grow: 1;
    }
	}
</style>